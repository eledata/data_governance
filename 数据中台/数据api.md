# 一级标题：数据api
数据来源：（1）数据资产（2）第三方api整合
## 二级标题：api市场
首页布局：  
左侧---类目管理菜单树（该菜单树只做展示不能新建）
点击类目管理菜单树 展示页中展现对应类目的api

api展示页：
api名称| api描述| 累计调用（次）| 最近更新时间| 操作
-|-|-|-|-
重点目标重点人员数据| 描述| 20| 2019-09-01| 申请


申请页字段 
> api名称（根据用户选择自动填充）  
> 调用次数：  
> 调用周期：  
> 申请说明：




## 二级标题：我的api
分为已审批页和审批中

已审批页
api名称| 授权状态| api描述| 最近24小时调用（次）| 累计调用| 订购时间| 操作

-|-|-|-|-|-|-
重点目标重点人员数据| 已通过| 描述| 23| 29| 2019-01-01| 删除 
重点目标重点人员数据| 已拒绝| 描述| 23| 29| 2019-01-01| 删除
重点目标重点人员数据| 停用| 描述| 23| 29| 2019-01-01| 删除
重点目标重点人员数据| 取消授权| 描述| 23| 29| 2019-01-01| 删除
重点目标重点人员数据| 已过期| 描述| 23| 29| 2019-01-01| 重新申请 删除 

审批中页
api名称| 申请次数| 申请周期| 申请说明| 申请时间
-|-|-|-|-
重点目标重点人员数据|200| 2018-01-01至2019-01-01| 说明| 2018-01-01


## 二级标题：   
首页布局：
左侧---类目管理菜单树（可新建类目）  
功能按钮：<b>1.新建api</b>  <b>2.注册api</b>

首页：

api名称| 状态| api类型| 数据源| 最近24小时调用| 累计调用| 创建人| 操作
-|-|-|-|-|-|-|-|
重点目标重点人员数据| 正常|生成api| | 2| 19| 张三| 禁用
重点目标重点人员数据| 已禁用|生成api| | 2| 19| 张三| 发布 编辑 删除
重点目标重点人员数据| 未发布|生成api| | 2| 19| 张三| 发布 编辑 删除


新建api页：
1. 选择创建模式：（1）模板向导模式（2）自定义sql模式
2. 进行新建

模板向导模式页：  
第一页
1. 基本信息：  
> *所属类目         （此处为下拉框，列出创建的类目，同时有所属类目按钮）   
> *api名称  
> api描述
2. api参数
> 协议  （HTTP/HTTPS）
> *请求方式  (GET,POST)
> *返回类型  (JSON)
```
以上均为下拉框
```
3. 安全与限制策略
> *调用次数限制  
> 安全组
```
每个安全组是一组IP地址，用于限制此API在这些IP范围内调用或禁止调用
如果您未建立任何安全组，可进入安全组进行新建
```

第二页
左侧
1. 数据源配置
> 数据源类型  
> 数据源  
> 数据表  
```
以上均为下拉框
数据源类型：列举系统已有数据源类型
数据源： 根据所选数据源类型列举系统已有数据源
数据表：根据所选数据源列举该数据源下的所有表
```
2. 数据字段
配置完成数据源后展示对应表中的字段提供选择  

□|字段| 字段类型
-|-|-
□| id| int
□| name| varchar

右侧
1. 输入参数
选择完字段后点击> 将选择的字段同步到输入参数中  
点击<移除


□| 参数名称 | 绑定字段| 字段类型| 操作符| 必填| 说明
-|-|-|-|-|-|-
□| 用户可修改（默认同字段名相同）| 所选字段| 所选字段类型| =<br><<br>><br><=<br>>=<br>in<br>not in<br>like<br>not like| □| 默认为字段注释


2. 输出参数
选择完字段后点击> 将选择的字段同步到输出参数中 
点击<移除

□| 参数名称 | 绑定字段| 字段类型| 说明
-|-|-|-|-
□| 用户可修改（默认同字段名相同）| 所选字段| 所选字段类型|默认为字段注释



第三页：  
右侧  

1. 展示api配置的基本信息（api名称： 请求方式： 返回类型： 以上信息不可更改）
2. 输入参数  
展示之前配置的输入参数

参数名称| 操作符| 字段类型| 必填| 值
-|-|-|-|-
用户定义的| 读取之前配置的| 读取之前配置的| 读取之前配置的| 用户进行设置

点击<b>开始测试</b>  
右上：  
返回测试结果

右下：  
输出结果： 
用户定义的输出参数名称1| 用户定义的输出参数名称2| 用户定义的输出参数名称2
-|-|-
输出参数绑定的字段返回值| 输出参数绑定的字段返回值| 输出参数绑定的字段返回值


